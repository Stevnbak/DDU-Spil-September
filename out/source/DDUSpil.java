/* autogenerated by Processing revision 1286 on 2022-09-01 */
import processing.core.*;
import processing.data.*;
import processing.event.*;
import processing.opengl.*;

import java.util.HashMap;
import java.util.ArrayList;
import java.io.File;
import java.io.BufferedReader;
import java.io.PrintWriter;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.IOException;

public class DDUSpil extends PApplet {

PVector camLocation;
float camSpeed = 20;
Player player = new Player();

public boolean[] keyInputs;

 public void setup() {
  /* size commented out by preprocessor */;
  surface.setTitle("Test Title");
  surface.setResizable(true);
  //surface.setLocation(width/2, height/2);
  camLocation = new PVector(0,0);
  
    keyInputs = new boolean[4];
    keyInputs[0] = false;
    keyInputs[1] = false;
    keyInputs[2] = false;
    keyInputs[3] = false;
}

 public void updateCamLocation() {
    PVector centerLocation = new PVector(camLocation.x + width/2, camLocation.y + height /2);
    float xDistance = centerLocation.x - player.location.x;
    float yDistance = centerLocation.y - player.location.y;
    camLocation.x -= xDistance / camSpeed;
    camLocation.y -= yDistance / camSpeed;
}

  public void keyPressed() {
   switch (key) {
      case 'a': {keyInputs[0] = true;break;}
      case 'd': {keyInputs[1] = true;break;}
      case 'w': {keyInputs[2] = true;break;}
      case 's': {keyInputs[3] = true;break;}
      default: {};
   }
  }
  
   public void keyReleased() {
    switch (key) {
      case 'a': {keyInputs[0] = false;break;}
      case 'd': {keyInputs[1] = false;break;}
      case 'w': {keyInputs[2] = false;break;}
      case 's': {keyInputs[3] = false;break;}
      default: {};
   }
  }

 public void draw() {
  //print("{"+keyInputs[0]+", "+keyInputs[1]+", "+keyInputs[2]+", "+keyInputs[3]+",]\n");
  player.update();
  
  background(255);
  updateCamLocation();
  translate(-camLocation.x, -camLocation.y);

  player.draw();


  noStroke();
  colorMode(RGB);
  fill(120,60,60);
  
  ellipse(width / 2, height / 2,100,100);
  ellipse(200, 50 ,100,100);
}
class Player {
  PVector location = new PVector(0, 0);

   public void update() {
    if (keyInputs[0]) {
      location.x -= 5;
    }
    if (keyInputs[1]) {
      location.x += 5;
    }
    if (keyInputs[2]) {
      location.y -= 5;
    }
    if (keyInputs[3]) {
      location.y += 5;
    }
  }



   public void draw() {
    noStroke();
    colorMode(RGB);
    fill(60, 120, 60);
    ellipse(location.x, location.y, 100, 100);
  }
}


  public void settings() { size(1080, 720); }

  static public void main(String[] passedArgs) {
    String[] appletArgs = new String[] { "DDUSpil" };
    if (passedArgs != null) {
      PApplet.main(concat(appletArgs, passedArgs));
    } else {
      PApplet.main(appletArgs);
    }
  }
}
